:root{
  --cell-size: 20px;
  --color-grid: #e8e8ef;
  --color-text: #1f2937;
  --color-bg: linear-gradient(180deg,#f8fafc 0%, #eef2ff 100%);
  --p1: #2563eb;
  --p2: #ef4444;
  --empty: #ffffff;
  --chip-bg: #ffffffaa;
}
*{box-sizing:border-box}
html,body{height:100%}
body{ margin:0; font-family:"Segoe UI",Inter,Roboto,Arial,sans-serif; color:var(--color-text); background:var(--color-bg); }
.topbar{ position:sticky; top:0; z-index:5; backdrop-filter:saturate(160%) blur(8px); background:linear-gradient(135deg,#ffffffdd,#f0f6ffcc); border-bottom:1px solid #e5e7eb; padding:10px 12px 8px; box-shadow:0 2px 12px rgba(0,0,0,.06); }
.brand{ display:flex; align-items:center; gap:10px; margin-bottom:8px; }
.logo{ width:32px; height:32px; border-radius:10px; display:grid; place-items:center; background: radial-gradient(110% 110% at 0% 0%, #22d3ee 0%, #3b82f6 55%, #8b5cf6 100%); color:#fff; font-weight:900; text-shadow:0 1px 2px rgba(0,0,0,.2); }
.topbar h1{ font-size:22px; line-height:1; margin:0; background:linear-gradient(90deg,#111827,#334155); -webkit-background-clip:text; background-clip:text; color:transparent; }
.controls{ display:flex; flex-wrap:wrap; align-items:center; gap:12px; margin-bottom:8px; }
.controls label{ display:inline-flex; flex-direction:row; align-items:center; gap:8px; font-size:13px; color:#374151; }
.controls input[type=number], .controls select{ appearance:none; -webkit-appearance:none; padding:8px 10px; border:1px solid #c7d2fe; border-radius:12px; background:#fff; color:#0f172a; font-size:14px; box-shadow: 0 1px 0 #e0e7ff inset, 0 1px 6px rgba(59,130,246,.08); }
.controls input[type=number]:focus, .controls select:focus{ outline:none; border-color:#6366f1; box-shadow:0 0 0 3px rgba(99,102,241,.2); }
.controls :disabled{ opacity:.65; cursor:not-allowed; filter:saturate(60%); }
.btn{ display:inline-flex; align-items:center; gap:8px; border-radius:14px; padding:10px 14px; font-weight:600; cursor:pointer; border:1px solid transparent; transition:.15s ease; }
.btn .ico{opacity:.9}
.btn-primary{ color:#fff; background: linear-gradient(135deg,#34d399,#10b981 30%, #2563eb 100%); box-shadow:0 6px 18px rgba(16,185,129,.25), 0 4px 12px rgba(37,99,235,.15); }
.btn-ghost{ color:#0f172a; background:#ffffffaa; border-color:#dbeafe; }
.btn-danger{ color:#fff; background: linear-gradient(135deg,#f97316,#ef4444); box-shadow:0 6px 18px rgba(239,68,68,.25), 0 4px 12px rgba(249,115,22,.15); }
.statusbar{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; }
.chip{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; font-size:13px; background: var(--chip-bg); border:1px solid #e5e7eb; box-shadow: 0 1px 4px rgba(0,0,0,.06); }
.chip b{font-weight:700}
.chip-p1{ background:#e0ecff; border-color:#bfd4ff; }
.chip-p2{ background:#ffe1e1; border-color:#ffc2c2; }
.chip-time{ background:#e7f5ff; border-color:#c2e7ff; }
.chip-count{ background:#f0fdf4; border-color:#bbf7d0; }
.chip-count.red{ background:#fee2e2; border-color:#fecaca; color:#7f1d1d; }
.chip-turn{ background:#fef9c3; border-color:#fde68a; }
.chip-mode{ background:#ecfdf5; border-color:#bbf7d0; }
.board-wrap{ padding:16px; display:flex; justify-content:center; }
.grid{ display:grid; grid-auto-rows: var(--cell-size); gap:0; user-select:none; border:1px solid var(--color-grid); background:#fff; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,.08); }
.cell, .label{ width:var(--cell-size); height:var(--cell-size); border:1px solid var(--color-grid); display:flex; align-items:center; justify-content:center; font-size:12px; line-height:1; }
.label{ background:#f8fafc; color:#475569; font-size:11px; }
.corner{ background:#eef2ff; }
.cell{ background:var(--empty); cursor:pointer; transition: box-shadow .06s ease-out, transform .03s ease-out; }
.cell:hover{ box-shadow: inset 0 0 0 2px rgba(2,6,23,.14); }
.cell.p1{ background: var(--p1); }
.cell.p2{ background: var(--p2); }
.footer{ padding: 16px; font-size: 14px; color:#374151; }
.footer details{ background:#fff; border-radius:14px; border:1px solid #e5e7eb; padding:12px 14px; box-shadow:0 10px 24px rgba(0,0,0,.05); }
.controls label.diag{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; background:#fff; border:1px solid #c7d2fe; border-radius:12px; }
.controls label.diag input[type=checkbox]{ width:18px; height:18px; }
