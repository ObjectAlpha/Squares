<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Diagonal Squares — 5×5…40×40 (Web)</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="description" content="Мини-игра на поле 5×5…40×40 с запретом диагонального примыкания. Режимы: Человек vs Человек, Человек vs Компьютер, Компьютер vs Компьютер. Периодическое усиленное правило." />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">▣</div>
      <h1>Diagonal Squares</h1>
    </div>

    <div class="controls">
      <label class="size">
        Размер
        <input id="sizeInput" type="number" min="5" max="40" value="40" />
      </label>

      <label class="mode">
        Режим
        <select id="modeSelect">
          <option value="HH">Человек ↔ Человек</option>
          <option value="HCPU" selected>Человек ↔ Компьютер</option>
          <option value="CPUCPU">Компьютер ↔ Компьютер</option>
        </select>
      </label>

      <label class="ai ai-p1" title="Уровень умности P1 (1–3)">
        P1 AI
        <select id="aiLevelP1">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3" selected>3</option>
        </select>
      </label>

      <label class="ai ai-p2" title="Уровень умности P2 (1–3)">
        P2 AI
        <select id="aiLevelP2">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3" selected>3</option>
        </select>
      </label>

      <label class="interval" title="Через сколько секунд включать усиленное правило (5–10)">
        Правило каждые (сек)
        <input id="ruleInterval" type="number" min="5" max="10" value="5" />
      </label>

      <button id="btnNew" class="btn btn-primary">
        <span class="ico">⟳</span> Новая партия
      </button>
      <button id="btnPass" class="btn btn-ghost">
        <span class="ico">⏭</span> Пас
      </button>
    </div>

    <div class="statusbar">
      <span class="chip chip-p1">P1: <b id="scoreP1">0</b></span>
      <span class="chip chip-p2">P2: <b id="scoreP2">0</b></span>
      <span class="chip chip-time">⏱ <b id="timer">00:00</b></span>
      <span class="chip chip-rule" id="ruleChip">Правило: —</span>
      <span class="chip chip-turn">Ход: <b id="turnWho">P1</b></span>
      <span class="chip chip-mode" id="modeChip">Режим</span>
    </div>
  </header>

  <main class="board-wrap">
    <div id="board" class="grid"></div>
  </main>

  <footer class="footer">
    <details>
      <summary>Правила (кликните, чтобы раскрыть)</summary>
      <ul>
        <li>Поле: от 5×5 до 40×40, изначально пустое.</li>
        <li>P1 ходит первым. Ходы по очереди.</li>
        <li><b>Правило диагонали:</b> ставить нельзя, если у клетки есть занятые диагональные соседи.</li>
        <li>Очки за ход: <code>1 + число занятых ортогональных соседей</code>.</li>
        <li>Если у текущего игрока нет легальных ходов — пасует. Два паса подряд завершают игру.</li>
        <li>Периодическое усиление: каждые <b>N</b> секунд (N=5..10) активируется запрет ставить фишку вплотную по стороне к <u>любой</u> занятой клетке. Усиление действует на игрока, чей ход в момент срабатывания, и сбрасывается после <u>любой</u> постановки фишки. На панели показано, к кому применено правило.</li>
      </ul>
    </details>
  </footer>

  <script src="script.js"></script>
</body>
</html>
